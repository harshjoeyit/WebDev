<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title> Bubbling and Capturing </title>
      <style>
            .divstyle {
                  display: table-cell;
                  border: 2px solid black;
                  padding: 20px;
                  text-align: center;
            }
      </style>
</head>

<body>
      <div id="div1" class="divstyle">
            div1
            <div id="div2" class="divstyle">
                  div2
                  <div id="div3" class="divstyle">
                        div3
                  </div>
            </div>
      </div>

      <script> 
            // https://www.tutorialspoint.com/what-is-event-capturing-in-javascript#:~:text=Event%20capturing%20is%20the%20event,element%20to%20the%20top%20element.

            var divs = document.getElementsByTagName("div");
            for (var i = 0; i < divs.length; i++) {

                  // Event Bubbling  - Inside to Outside (div3 => div2 => div1)
                  // third param => false
                  divs[i].addEventListener("click", clickhandler, false);
                  // works even if third param is left out 
                  // divs[i].addEventListener("click", clickhandler);

                  // Event Capturing - Outside to Inside (div1 => div2 => div3) 
                  // third param => true
                  // divs[i].addEventListener("click", clickhandler, true);
            }

            function clickhandler(event) {
                  alert(this.getAttribute("id") + "event got handled");
                  // this is used to stop any kind of bubbling or capturing 
                  // event.stopPropagation();

                  // Use Case (when event.stopPropagation is used)

                  // 1. On clicking any div only the respective event listener of div 3, 2, 1 are called 

                  // 2. On clicking and div, 1, 2, or 3, only the event listener of 1 is invoked every time

            }
      </script>
</body>

</html>